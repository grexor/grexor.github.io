<!DOCTYPE html>
<html lang="en">
<head>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <meta charset="utf-8">
  <meta name="keywords" content="bioinformatics, expressrna, microbeatlas"/>
  <title>Gregor Rot &#8211; Bioinformatics</title>
  <meta name="robots" content="noarchive">
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Gregor Rot" />
  <meta property="og:description" content="Bioinformatics" />
  <meta property="og:url" content="https://grexor.github.io" />
  <meta property="og:site_name" content="Gregor Rot" />
  <meta name="viewport" content="width=device-width, initial-scale=1">    

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="main.css">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-714JBVJZEV"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-714JBVJZEV');
  </script>
    
</head>
<body>

<div style="max-width: 600px !important; margin: 0 auto; padding-left: 10px; padding-right: 10px;">
  
  <br>
  <div style="border-bottom: 1px dashed lightgray;" class="rainbow-text"><a href="index.html">Home</a></div>

  <br><br>
  
  <b>Javascript functions and links</b>
  <br>
        When you develop a web page with JQuery and Javascript, you probably have several places on the page where you have to connect javascript function links to text or images. Suppose you have a simple javascript function defined:
<br><br>
<pre>
  function open_data(event) {
    alert("Open data tab");
  }
</pre>
        And now you would like this function open_data (which will show/hide some div or something in this direction) to trigger when you click on a link. You could do something like this:
<xmp><a href="javascript:open_data(event);">Open Data</a></xmp>
        When you click on this link, the function open_data is called. This is all good. However, when you mouse-over the "Open Data" text, you will see the link displayed as "javascript:open_data(event)". However, what about opening the data in a new window or sending the link to the data to someone via URL?

      <br><br>

      <b>expressRNA example</b><br>
      If you look at the list of <a href='http://www.expressrna.org/index.html?action=libraries' target=_new>libraries in expressRNA</a>, you can see each library is represented by a unique URL (href, mouse over to see the link). So opening the "example" library is possible using the direct URL <a href='https://expressrna.org/index.html?action=library&library_id=example' target=_new>https://expressrna.org/index.html?action=library&library_id=example</a>.
      <br><br>
      However, when you click on the example library link inside the expressRNA webapp, this does not redirect the browser to the new URL. This would be too heavy. Instead, a javascript function is triggered, which directly shows you the data without reloading the web page (hides some div elements and loads content into the library div element). At the same time, you can right-click on the example library link and "Open in new tab" in the browser or Command-Click on Mac/Windows to open in new tab. This then opens a new window, and reloads the whole expressRNA webapp with the correct data displayed (example library).

      <br><br>

      <b>How do you achieve the behaviour where command-clicking on a link opens the link URL (href) and simply clicking on a link runs a javascript function?</b><br>

        The first idea is to do something like this:
<xmp><a href="https://expressRNA.org/data" onclick:open_data(event);
  return false;">Open Data</a></xmp>

        This works great. If you click on the link, the javascript function "open_data" is run. If you right-click and "Open in new tab", the URL "expressRNA.org/data" is open in a new tab. However, if you command-click the link, the thingy doesn't work as expected.
        You need a little bit more logic in the open_data function to catch the command-click events to make it really really nice for the user.

<xmp>function open_data(event, url) {
  if (event.ctrlKey || event.metaKey) {
    window.open(url);
  } else {
    alert("Open data tab");
  }
}

<a href="https://expressRNA.org/data" onclick:open_data(event, 
'https://expressRNA.org/data'); return false;"></a>
</xmp>

      And voila. You now have links on your web page that trigger a javascript function when you click them. Still, you can attach a URL to the link (href), where if you "Open in new tab" or command-click the link, a new browser tab is open and the URL is loaded. This is super essential for web apps sharing data, since you would like, for example, to open several analysis and libraries (expressRNA) in different browser tabs, which you would also like to share with colleagues via the URL links.

      <br><br>Thanks for reading! and if it was helpful for you, leave a comment below.</font>


    <br><br>

    <b>References</b><br>

    <ul>
      
    <li><a href='https://stackoverflow.com/questions/4907843/open-a-url-in-a-new-tab-and-not-a-new-window' target=_new>Stackoverflow Open a URL in a new tab</a>
    </ul>

    
    <div id="disqus_thread"></div>
    <script>

    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
    var disqus_config = function () {
    this.page.title = "JS";
    this.page.url = "https://grexor.github.io/js_href_onclick.html";
    this.page.identifier = "blog_js_href_onclick";
    };
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://grexor.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  </div>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-714JBVJZEV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-714JBVJZEV');
</script>

  <div class='footer' style='padding-top: 10px; margin-top: 10px; padding-bottom: 20px; border-top: 1px dashed lightgray'>
    <center>

      <a href="https://twitter.com/gregor_rot"><i class="fab fa-twitter"></i>&nbsp;Follow me on Twitter</a>
      &nbsp;&nbsp;
      <i class="fas fa-hiking"></i>
      &nbsp;&nbsp;
      <a href="https://www.linkedin.com/in/gregorrot"><i class="fab fa-linkedin"></i>&nbsp;Connect on LinkedIn</a>
    </center>
  </div>

  </body>
  </html>
